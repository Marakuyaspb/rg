{% load static %}


{% load static %}

<style type="text/css">

	/* parallax here */
  .wrapper_p {
    width: 100%;
    height: 100vh;
    position: relative;
    overflow: hidden;
  }
  .slide_scroll {
    width: 100%;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--dark);
    clip-path: polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%);
  }
  .slide_scroll:first-child {
    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
  }
  .slide_content{
    padding: 6em 1em;
    height: 100vh;
    width: 100%;
    overflow-x: clip!important;
    position: relative;
  }

  /* other animations */

  .relative_block{
		position: relative;
		width: 100%; 
    height: 100vh;
    overflow: hidden;
	}

	.background_el{
		position: absolute;
		z-index: -5;
	}



	#el_wh_1{animation: pulse 2s infinite; }
	@keyframes pulse {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        transform: translate(-50%, -50%) scale(.9);
    }
	}




  /* mobile */
  @media (max-width: 810px) {

  	.absolute_center{
  		position: absolute;
		  top: 50%;
		  left: 50%;
		  transform: translate(-50%, -50%);
		  width: 110%;
		}
  	#logo_1{
			position: absolute;
			z-index: 222;
			width: 20em;
		}
		#h2_move{
			position: absolute;
			z-index: 4;
		}
		#h2_move h2{
			font-size: 3em;
		}

		#h2_prof{
			position: absolute;
			z-index: 4;
			left: 5%;
			top:15%
		}
		#h2_prof h2{
			font-size: 4em;
			line-height: .9;
		}
		#founders{
			position: absolute;
			z-index: 5;
			width: 32em;
			bottom: 0%;
			left: -15%;
		}

		#calend{
			width: 8em;
			position: absolute;
    	animation: levitation_calend 5s infinite;
		}
		@keyframes levitation_calend {
	    0% {
	      top: 33%;
	      left:70%;
	    }
	    50% {
	      top: 34%;
	      left:70%;

	    }
	    100% {
	      top: 33%;
	      left:70%;
	    }
	  }

	 	#elem_4{
			width: 6em;
			position: absolute;
	  	animation: levitation_elem_4 6s infinite;
		}
		@keyframes levitation_elem_4 {
	    0% {
	      top: 3%;
	      left:-2%;
	    }
	    50% {
	      top: 2%;
	      left:-2%;

	    }
	    100% {
	      top: 3%;
	      left:-2%;
	    }
	  }




	}




  /* desctop */
  @media (min-width: 811px){
  	.absolute_center{
			position: absolute;
			top: 50%;
	    left: 50%;
	    transform: translate(-50%, -50%);
	    z-index: 2;

		}
		#logo_1{
			position: absolute;
			z-index: 22;
			width: 26em;
		}
		#h2_move{
			position: absolute;
			z-index: 4;
		}
		#h2_move h2{
			font-size: 5em;
		}

		

		#beauty_car_1{
			width: 50em;
			position: absolute;
			left: -10%;
			top: 52%;
			z-index: 22;
		}
		#BMW320i{
			width: 54em;
			position: absolute;
			left: 70%;
			top: 52%;
			z-index: 22;
		}


	}




	#el_red_min{
		position: absolute;
		top: 50%;
		left: 60%;
		width: 22em;
		animation: rotate 5s linear infinite;
	}
	@keyframes rotate {
      0% {
          transform: rotate(0deg);
      }
      100% {
          transform: rotate(360deg);
      }
  }

  #el_red_twice{
  	top: 5%;
    left: 25%;
  	animation: rotate_b 7s linear infinite;
  }
  @keyframes rotate_b {
      0% {
          transform: rotate(360deg);
      }
      100% {
          transform: rotate(0deg);
      }
  }




	/* Circle thing */


	  /* desctop */
  @media (min-width: 811px){

}

</style>





 <div class="wrapper_p">

  <div class="slide_scroll">
  	<section class='relative_block mesh_2 mesh_cover'>
			<center>
				<img loading="lazy" loading="lazy" id='logo_1' class='absolute_center p-5' src='{% static "brand/logo_light_auto.svg" %}'>
			</center>

			<img loading="lazy" loading="lazy" id='car_rl' class='' src="{% static 'transperent/Range_Rover_Long_Supercharger_mini.png' %}" alt="" />	
			<img loading="lazy" loading="lazy" id='car_lr' class='' src="{% static 'transperent/Mitsubishi_Outlander_mini.png' %}" alt="" />

			<img loading="lazy" loading="lazy" id='el_wh_1' class='absolute_center background_el' src="{% static 'abstract/ellipse_2_white.svg' %}" alt="" />
		</section>
  </div> 



    <div class="slide_scroll">
      <div class='slide_content red_bg'>
      	<div id='h2_move' class='absolute_center'>

				</div>
      </div>
    </div>


    <div class="slide_scroll">
      <div class='slide_content'>

      	<video autoplay loop muted preload="none" data-src="{% static 'video/fields.mp4' %}">
			    <source src="{% static 'video/fields.mp4' %}" type="video/mp4">
				</video>

      </div>
    </div>



    <div class="slide_scroll">
      <div class='slide_content black_bg'>
      </div>
    </div>	




    <div class="slide_scroll">
    	<section class='relative_block mesh_1 mesh_cover'>
				<div id='h2_move' class='absolute_center'>
					<h2 class="white we_200">НЕПРЕРЫВНОЕ</h2>
					<h2 class="white we_200">ДВИЖЕНИЕ</h2>
				</div>

				<img loading="lazy"  id='el_red_twice' class='absolute_center' src="{% static 'abstract/ellipse_twice.svg' %}" alt="" />
				<img loading="lazy"  id='el_red_min' class='absolute_center' src="{% static 'abstract/ellipse_2.svg' %}" alt="" />		
			</section>
    </div>



    <div class="slide_scroll">
      <div class='slide_content black_bg'>
      	<img loading="lazy" id='logo_1' class='absolute_center p-5' src='{% static "brand/logo_dark_auto.svg" %}'>
      </div>
    </div>	



    <div class="slide_scroll">
      <div class='slide_content red_bg'>
      	<div id='h2_move' class='absolute_center'>
					<h2 class="big_guar white we_200">ДЕЛАЕМ</h2>
					<h2 class="white we_200">ЖИЗНЬ</h2>
					<h2 class="white we_200">ЯРЧЕ</h2>
				</div>
      </div>
    </div>



  </div>


<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<script type="text/javascript">
  console.clear();
  gsap.registerPlugin(ScrollTrigger);

  const slides = gsap.utils.toArray(".slide_scroll");
  slides.shift();

  gsap.to(slides, {
    duration: 1,
    clipPath: "circle(0% at 50% 50%)",
    /*clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",*/
    stagger: 1,
    ease: "power2.inOut",
    scrollTrigger: {
      trigger: ".wrapper_p",
      start: "top top",
      end: "+=" + 60 * slides.length + "%",
      scrub: true,
      snap: 1 / slides.length,
      pin: true,
      markers: true
    }
  });


/*slides.forEach((slide, index) => {
  gsap.to(slide, {
    scrollTrigger: {
      trigger: slide,
      start: "top top",
      end: "+=100%",
      scrub: true,
      onEnter: () => {
          gsap.to(slide, { clipPath: "circle(150% at 50% 50%)" }); // Adjust circle size for reveal
      },
      onLeaveBack: () => {
          gsap.to(slide, { clipPath: "circle(0% at 50% 50%)" }); // Reset circle size
      }
    }
  });
});
*/
</script>
