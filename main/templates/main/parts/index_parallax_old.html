{% load static %}


{% load static %}

<style type="text/css">

	/* parallax here */
  .wrapper_p {
    width: 100%;
    height: 100vh;
    position: relative;
    overflow: hidden;
  }

  .slide_scroll {
    width: 100%;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--dark);
    clip-path: polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%);
  }
  .slide_scroll:first-child {
    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
  }
  .slide_content{
    height: 100vh;
    width: 100%;
    overflow-x: clip!important;
    position: relative;
  }

  /* other animations */

  .relative_block{
		position: relative;
		width: 100%; 
    height: 100vh;
    overflow: hidden;
	}

	.background_el{
		position: absolute;
		z-index: -5;
	}



	#el_wh_1{animation: pulse 2s infinite; }
	@keyframes pulse {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        transform: translate(-50%, -50%) scale(.9);
    }
	}




  /* mobile */
  @media (max-width: 810px) {

  	.absolute_center{
  		position: absolute;
		  top: 50%;
		  left: 50%;
		  transform: translate(-50%, -50%);
		  width: 100%;
		}
  	#logo_1{
			position: absolute;
			z-index: 222;
			width: 20em;
		}
		#h2_move{
			position: absolute;
			z-index: 4;
		}
		#h2_move h2{
			font-size: 3em;
		}

		#h2_prof{
			position: absolute;
			z-index: 4;
			left: 10%;
			top:15%
		}
		#h2_prof h2{
			font-size: 4em;
			line-height: .9;
		}
		#founders{
			position: absolute;
			z-index: 5;
			width: 32em;
			bottom: 0%;
			left: -15%;
		}

		#calend{
			width: 8em;
			position: absolute;
    	animation: levitation_calend 5s infinite;
		}
		@keyframes levitation_calend {
	    0% {
	      top: 33%;
	      left:70%;
	    }
	    50% {
	      top: 34%;
	      left:70%;

	    }
	    100% {
	      top: 33%;
	      left:70%;
	    }
	  }

	 	#elem_4{
			width: 6em;
			position: absolute;
	  	animation: levitation_elem_4 6s infinite;
		}
		@keyframes levitation_elem_4 {
	    0% {
	      top: 3%;
	      left:-2%;
	    }
	    50% {
	      top: 2%;
	      left:-2%;

	    }
	    100% {
	      top: 3%;
	      left:-2%;
	    }
	  }

	  .video_cover{
	  	height: 100vh;
	  	overflow-x: hidden;
	  }


	  .padding_h2_block{
	  	padding: 6em 1em;
	  }


	}




  /* desctop */
  @media (min-width: 811px){
  	.absolute_center{
			position: absolute;
			top: 50%;
	    left: 50%;
	    transform: translate(-50%, -50%);
	    z-index: 2;

		}
		#logo_1{
			position: absolute;
			z-index: 22;
			width: 26em;
		}
		#h2_move{
			position: absolute;
			z-index: 4;
		}
		#h2_move h2{
			font-size: 5em;
		}

		

		#beauty_car_1{
			width: 50em;
			position: absolute;
			left: -10%;
			top: 52%;
			z-index: 22;
		}
		#BMW320i{
			width: 54em;
			position: absolute;
			left: 70%;
			top: 52%;
			z-index: 22;
		}


	}




	#el_red_min{
		position: absolute;
		top: 50%;
		left: 60%;
		width: 22em;
		animation: rotate 5s linear infinite;
	}
	@keyframes rotate {
      0% {
          transform: rotate(0deg);
      }
      100% {
          transform: rotate(360deg);
      }
  }

  #el_red_twice{
  	top: 5%;
    left: 25%;
  	animation: rotate_b 7s linear infinite;
  }
  @keyframes rotate_b {
      0% {
          transform: rotate(360deg);
      }
      100% {
          transform: rotate(0deg);
      }
  }



	#mesh_cropped{
		width: 100%;
		margin: 0 auto auto 0;
	}

	video {
	  object-fit: cover;
	  width: 100%;
	  height: 100%;
	}

</style>




<div class="wrapper_p ">
  

  <div class="slide_scroll">
    <div class='slide_content gray_light_bg'>
    	<img loading="lazy" id='logo_1' class='absolute_center p-5' src='{% static "brand/logo_light_auto.svg" %}'>
    </div>
  </div>	




  <div class="slide_scroll">
  	<div class='slide_content white_dirty_bg'>
  		<div id='h2_move' class='absolute_center'>
				<h2 class="ps-3 we_300">ПОМОЖЕМ</h2>
				<h2 class="ps-3 we_300">НАЙТИ</h2>
				<h2 class="ps-3 we_300">МАШИНУ</h2>
				<h2 class="ps-3 we_300">МЕЧТЫ</h2>
			</div>
		</div>
  </div> 



  <div class="slide_scroll">
    <div class='slide_content black_bg'>
    	<div id='h2_move' class='absolute_center'>

    		<h2 class="white we_200 ps-3">ДОСТАВИМ АВТО</h2>
				<h2 class="white we_200 ps-3">ИЗ ЛЮБОЙ</h2>
				<h2 class="white we_200 ps-3">ТОЧКИ МИРА</h2>

			</div>
    </div>
  </div>


	<div class="slide_scroll">
      <div class='slide_content black_bg'>

      	<img loading="lazy" id='logo_1' class='absolute_center p-5' src='{% static "brand/logo_dark_auto.svg" %}'>

      	<div class='video_cover'>
      		<video  autoplay loop muted preload="none" data-src="{% static 'video/landscape.mp4' %}">
				    <source src="{% static 'video/landscape.mp4' %}" type="video/mp4">
					</video>
				</div>

      </div>
    </div>



    <div class="slide_scroll">
      <div class='slide_content red_bg'>
      	<div id='h2_move' class='absolute_center'>


	      	<h2 class="white we_200 ps-3">ДЕЛАЕМ</h2>
	      	<h2 class="white we_200 ps-3">ЖИЗНЬ</h2>
	      	<h2 class="white we_200 ps-3">ЯРЧЕ</h2>

			</div>
      </div>
    </div>



	<div class="slide_scroll">
      <div class='slide_content black_bg'>

      		<img loading="lazy" id='logo_1' class='absolute_center p-5' src='{% static "brand/logo_light_auto.svg" %}'>
      		
      		<div class='video_cover'>
	      		<video  class='video_cover'  autoplay loop muted preload="none" data-src="{% static 'video/winter_road_aero.mp4' %}">
					    <source src="{% static 'video/winter_road_aero.mp4' %}" type="video/mp4">
						</video>
					</div>

      </div>
    </div>



</div>


<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<script type="text/javascript">
  console.clear();
  gsap.registerPlugin(ScrollTrigger);

  const slides = gsap.utils.toArray(".slide_scroll");
  slides.shift();

  gsap.to(slides, {
    duration: 1,
    clipPath: "circle(0% at 50% 50%)",
    stagger: 1,
    ease: "power2.inOut",
    scrollTrigger: {
      trigger: ".wrapper_p",
      start: "top top",
      end: "+=" + 150 * slides.length + "%",
      scrub: true,
      snap: 1 / slides.length,
      pin: true,
      markers: true
    }
  });

  // Loop through each slide and create animations
	slides.forEach((slide, index) => {
	    tl.to(slide, {
	        duration: 1,
	        clipPath: "circle(100% at 50% 50%)",
	        ease: "power2.inOut",
	        stagger: -0.5 // Negative stagger to create a delay effect
	    }, index); // Use index to ensure proper timing
	});


/*slides.forEach((slide, index) => {
  gsap.to(slide, {
    scrollTrigger: {
      trigger: slide,
      start: "top top",
      end: "+=100%",
      scrub: true,
      onEnter: () => {
          gsap.to(slide, { clipPath: "circle(150% at 50% 50%)" }); // Adjust circle size for reveal
      },
      onLeaveBack: () => {
          gsap.to(slide, { clipPath: "circle(0% at 50% 50%)" }); // Reset circle size
      }
    }
  });
});
*/
</script>
